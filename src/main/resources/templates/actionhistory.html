<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
  	<meta name="viewport" content="initial-scale=1, width=device-width">
  	
  	<link rel="stylesheet" href="/css/actionhistory.css" />
  	
  	<!-- Bootstrap CDN -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Background Data Sync -->
	<script src="/js/background-sync.js"></script>
	<!-- Custom JS -->
	<script src="/js/actionhistory.js"></script>
  	
</head>
<body>
    <div class="actionhistory">
        <!-- Header -->
		<div class="header">
			<a href="/dashboard" class="dashboard2">Dashboard</a>
			<a href="/datasensor" class="data-sensor">Data Sensor</a>
			<a href="/actionhistory" class="history">History</a>
			<a href="/profile" class="profile">Profile</a>
		</div>
		
		<!-- Main block -->
		<div class="main-block">
			<b>Action History</b>
		</div>
		
		<!-- Search -->
		<div class="Search">
			<input type="text" id="searchInput" class="search-input" placeholder="Tìm kiếm">
			
			<div class="custom-dropdown">
				<button id="deviceDropdown" class="dropdown-btn" type="button" data-value="all">
					<span>All Device</span>
					<span class="arrow">&#9660;</span>
				</button>
				<div id="deviceDropdownList" class="dropdown-list">
				  <div class="dropdown-item" data-value="all">All Device</div>
				  <div class="dropdown-item" data-value="DEV1">DEV1</div>
				  <div class="dropdown-item" data-value="DEV2">DEV2</div>
				  <div class="dropdown-item" data-value="DEV3">DEV3</div>
				</div>
			</div>
			
			<div class="custom-dropdown">
				<button id="statusDropdown" class="dropdown-btn" type="button" data-value="all">
					<span>All Status</span>
					<span class="arrow">&#9660;</span>
				</button>
				<div id="statusDropdownList" class="dropdown-list">
				  <div class="dropdown-item" data-value="all">All Status</div>
				  <div class="dropdown-item" data-value="ON">ON</div>
				  <div class="dropdown-item" data-value="OFF">OFF</div>
				</div>
			</div>
			
			<button id="searchBtn" class="search-btn">Search</button>
		</div>

		<!-- Table container -->
		<div class="table-container">
			<!-- Loading indicator -->
			<div id="loading" class="loading" style="display: none;">Loading...</div>
			
			<!-- Error message -->
			<div id="error" class="error" style="display: none;"></div>
			
			<table class="data-table">
				<thead>
					<tr>
						<th data-sort="id">ID <span class="sort-arrows"><span class="sort-arrow up"></span><span class="sort-arrow down"></span></span></th>
						<th data-sort="device">Device <span class="sort-arrows"><span class="sort-arrow up"></span><span class="sort-arrow down"></span></span></th>
						<th data-sort="status">Status <span class="sort-arrows"><span class="sort-arrow up"></span><span class="sort-arrow down"></span></span></th>
						<th data-sort="time">Time <span class="sort-arrows"><span class="sort-arrow up"></span><span class="sort-arrow down"></span></span></th>
					</tr>
				</thead>
				<tbody id="dataBody">
					<!-- Data will be loaded from API -->
				</tbody>
			</table>

			<!-- Pagination -->
			<div class="pagination" id="paginationContainer">
				<!-- Pagination will be generated dynamically -->
			</div>
		</div>
    </div>

    <script src="index.js"></script>
</body>
</html>